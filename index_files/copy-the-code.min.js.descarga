window.CopyTheCodeToClipboard=function(c,b,e){var a,d;function f(){return e.userAgent.match(/ipad|iphone/i)}function g(c){a=b.createElement('textArea'),a.value=c,b.body.appendChild(a)}function h(){var d,e;f()?(d=b.createRange(),d.selectNodeContents(a),e=c.getSelection(),e.removeAllRanges(),e.addRange(d),a.setSelectionRange(0,999999)):a.select()}function i(){b.execCommand('copy'),b.body.removeChild(a),copyTheCode.redirect_url&&(c.location.href=copyTheCode.redirect_url)}return d=function(a){g(a),h(),i()},{copy:d}}(window,document,navigator),function(a){CopyTheCode={selector:copyTheCode.settings.selector||copyTheCode.selector||'pre',button_position:copyTheCode.settings['button-position']||'inside',init:function(){this._bind(),this._initialize()},_bind:function(){a(document).on('click','.copy-the-code-button',CopyTheCode.copyCode),a(document).on('click','.copy-the-code-shortcode',CopyTheCode.copyShortcode)},_initialize:function(){if(!a(copyTheCode.selectors).length)return;a(copyTheCode.selectors).each(function(j,b){var h=b.button_copy_text||'',f=b.button_position||'',d=b.button_text||'',g=b.button_title||'',e=b.selector||'',c=b.style||'',i=b.copy_format||'';a(e).each(function(k,b){var j=CopyTheCode._getButtonMarkup(g,d,c);switch(a(b).addClass('copy-the-code-target'),'cover'!==c&&'outside'===f?(a(b).wrap('<span data-copy-format="'+i+'" data-button-text="'+d+'" data-button-position="'+f+'" data-button-copy-text="'+h+'" data-style="'+c+'" data-button-title="'+g+'" data-selector="'+e+'" class="copy-the-code-wrap copy-the-code-style-'+c+' copy-the-code-outside-wrap"></span>'),a(b).parent().prepend('<div class="copy-the-code-outside">'+j+'</div>')):(a(b).wrap('<span data-copy-format="'+i+'" data-button-text="'+d+'" data-button-position="'+f+'" data-button-copy-text="'+h+'" data-style="'+c+'" data-button-title="'+g+'" data-selector="'+e+'" class="copy-the-code-wrap copy-the-code-style-'+c+' copy-the-code-inside-wrap"></span>'),a(b).append(j)),c){case'svg-icon':a(b).find('.copy-the-code-button').html(copyTheCode.buttonSvg);break;case'cover':case'button':default:a(b).find('.copy-the-code-button').html(d);break}})})},_getButtonMarkup:function(c,a,b){return'svg-icon'===b&&(a=copyTheCode.buttonSvg),'<button class="copy-the-code-button" data-style="'+b+'" title="'+c+'">'+a+'</button>'},format:function(d){var c='	',b='',a='';return d.split(/>\s*</).forEach(function(d){d.match(/^\/\w/)&&(a=a.substring(c.length)),b+=a+'<'+d+'>\r\n',d.match(/^<?\w[^>]*[^\/]$/)&&!d.startsWith("input")&&(a+=c)}),b.substring(1,b.length-3)},copyShortcode:function(s){var d,f,r,l,k,c,i,j,b,m,n,g,o,p,q,e,h;if(s.preventDefault(),d=a(this),f=d.html(),r=d.attr('data-target')||'',l=d.attr('data-copy-as')||copyTheCode.copy_content_as,k=d.attr('data-button-copy-text')||'',c=d.attr('data-content')||'',i=d.attr('data-link')||'',c){CopyTheCodeToClipboard.copy(c),d.text(k),setTimeout(function(){d.html(f),i&&window.open(i,'_blank').focus()},1e3);return}if(j=a(r),!j.length){d.text('Not found!'),setTimeout(function(){d.text(f)},1e3);return}b=j.html(),b=CopyTheCode.format(b),'html'!==l&&(m=/<br\s*[\/]?>/gi,b=b.replace(m,"\n"),n=/<div\s*[\/]?>/gi,b=b.replace(n,"\n"),g=/<p\s*[\/]?>/gi,b=b.replace(g,"\n"),g=/<li\s*[\/]?>/gi,b=b.replace(g,"\n"),b=b.replace(/(<([^>]+)>)/ig,'')),'html'!==l?b=b.replace(/[\t\n]+/gm,' ').trim():(o=new RegExp("/^s+$/"),b=b.replace(o,"")),p=a("<div id='temp-element'></div>"),a("body").append(p),b=a.trim(b),a('#temp-element').html(b),b=a('#temp-element').html(),a('#temp-element').remove(),q=b,e=a("<textarea id='temp-pre'>"),h=a("<textarea>"),a("body").append(h),a("body").append(e),e.html(q),c=e.text(),c=c.trim(),copyTheCode.trim_lines&&(c=c.replace(/^(?=\n)$|\s*$|\n\n+/gm,""),c&&(c=c.split('\n'),c=c.map(a=>a.trim()),c=c.join('\n'))),h.val(c).select(),CopyTheCodeToClipboard.copy(c.trim()),h.remove(),e.remove(),d.text(k),setTimeout(function(){d.text(f)},1e3)},copyCode:function(x){var c,w,d,o,n,m,v,u,l,h,p,b,s,r,q,j,k,t,e,i,g,f;if(x.preventDefault(),c=a(this),w=c.text(),d=c.parents('.copy-the-code-wrap'),o=d.attr('data-selector')||'',n=d.attr('data-button-text')||'',m=d.attr('data-button-position')||'',v=d.attr('data-button-copy-text')||'',u=d.attr('data-button-title')||'',l=d.attr('data-style')||'',copy_format=d.attr('data-copy-format')||'',o.indexOf(' ')>=0?(h=c.parents('.copy-the-code-wrap')):(h=c.parents('.copy-the-code-wrap').find(o)),'google-docs'===copy_format)'inside'===m&&a('.copy-the-code-button').hide(),p=document.createRange(),p.selectNode(h[0]),window.getSelection().addRange(p),document.execCommand('copy'),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),'inside'===m&&a('.copy-the-code-button').show();else{b=h.html(),s=CopyTheCode._getButtonMarkup(u,n,l),b=b.replace(s,'');let c=CopyTheCode._getImages(b);c&&c.map(function(a){let c=CopyTheCode._getAlt(a);if(c){let d=c[0];d=d.replaceAll('"',''),d=d.replaceAll("'",''),d=d.replaceAll('alt=',''),b=b.replaceAll(a,d)}}),copyTheCode.remove_spaces&&(b=b.replace(/^(?=\n)$|\s*$|\n\n+/gm,"")),'html'!==copyTheCode.copy_content_as&&(r=/<br\s*[\/]?>/gi,b=b.replace(r,"\n"),q=/<div\s*[\/]?>/gi,b=b.replace(q,"\n"),j=/<p\s*[\/]?>/gi,b=b.replace(j,"\n"),j=/<li\s*[\/]?>/gi,b=b.replace(j,"\n"),b=b.replace(/(<([^>]+)>)/ig,'')),k=new RegExp("/^s+$/"),b=b.replace(k,""),t=a("<div id='temp-element'></div>"),a("body").append(t),b=a.trim(b),a('#temp-element').html(b),b=a('#temp-element').html(),a('#temp-element').remove(),e=b,k=new RegExp("/^s+$/"),e=e.replace(k,""),e=e.replace(n,''),i=a("<textarea id='temp-pre'>"),g=a("<textarea>"),a("body").append(g),a("body").append(i),f=i.html(e).text(),f=a.trim(f),g.val(f).select(),CopyTheCodeToClipboard.copy(f),g.remove(),i.remove()}c.text(v),setTimeout(function(){'svg-icon'===l?c.html(copyTheCode.buttonSvg):c.text(w)},1e3)},_getImages(a){return a.match(/<img\s+[^>]*?src=("|')([^"']+)">/gi)},_getAlt(a){return a.match(/alt=("|')([^"']+)"|'/gi)}},a(function(){CopyTheCode.init()})}(jQuery)